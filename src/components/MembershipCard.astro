---
interface Props {
    title?: string;
    ctaText?: string;
    unavailableMessage?: string;
    isAvailable?: boolean;
}

const {
    title = "Únete a la Asociación",
    ctaText = "Asociarse ahora",
    unavailableMessage,
    isAvailable = true,
} = Astro.props;

const privileges = [
    "Acceso prioritario a partituras recién recuperadas",
    "Descarga gratuita de Ediciones Críticas (Alta Resolución)",
    "Boletín exclusivo con hallazgos musicológicos",
    "Descuentos en conciertos y grabaciones patrocinadas",
    "Derecho a voto en la Asamblea de la Asociación",
];
---

<section
    class="mt-16 bg-paper border-2 border-accent-gold p-8 md:p-10 shadow-[0_10px_40px_-15px_rgba(197,160,89,0.2)] relative overflow-hidden group"
>
    <!-- Decorative background element -->
    <div
        class="absolute -top-10 -right-10 w-40 h-40 bg-accent-gold/5 rounded-full blur-3xl group-hover:bg-accent-gold/10 transition-colors duration-700"
    >
    </div>

    <div
        class="relative z-10 text-center md:text-left flex flex-col md:flex-row gap-10 items-center justify-between"
    >
        <div class="space-y-6 flex-1">
            <h3 class="text-3xl font-serif font-bold text-ink">
                {
                    unavailableMessage && !isAvailable
                        ? "Ayúdanos a recuperar esta obra"
                        : title
                }
            </h3>

            {
                unavailableMessage && !isAvailable && (
                    <p class="text-accent-red font-medium italic text-lg border-l-4 border-accent-red pl-4">
                        {unavailableMessage}
                    </p>
                )
            }

            <div class="space-y-3">
                <p
                    class="font-bold text-accent-gold uppercase tracking-widest text-xs"
                >
                    Beneficios de Socios
                </p>
                <ul class="space-y-2 text-left">
                    {
                        privileges.map((privilege) => (
                            <li class="flex items-start gap-3 text-ink/80 text-sm">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="2"
                                    stroke="currentColor"
                                    class="w-5 h-5 text-accent-gold shrink-0 mt-0.5"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                                    />
                                </svg>
                                <span>{privilege}</span>
                            </li>
                        ))
                    }
                </ul>
            </div>
        </div>

        <div class="flex-shrink-0">
            <a
                href="/es/asociacion"
                class="inline-block px-8 py-4 bg-accent-gold text-paper font-serif font-bold text-lg rounded-sm hover:bg-accent-red hover:scale-105 hover:shadow-lg transition-all duration-300"
            >
                {ctaText}
            </a>
        </div>
    </div>
</section>
